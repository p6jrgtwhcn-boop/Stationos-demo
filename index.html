<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>StationOS — Official Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: Inter, system-ui, sans-serif; }
  </style>
</head>

<body class="bg-slate-50 text-slate-900">

<div id="app"></div>

<script>
/* ---------------- APP STATE ---------------- */
let view = "role"; // role, staffRole, fuelPOS, retailPOS, manager, hq, audit
const app = document.getElementById("app");

function setView(v){ view=v; render(); }

/* ---------------- UI HELPERS ---------------- */
function topBar(title, subtitle){
  return `
  <div class="bg-white border-b p-4 flex justify-between items-center">
    <div>
      <h1 class="font-black text-xl text-blue-700">StationOS</h1>
      <p class="text-xs text-slate-500">${subtitle}</p>
    </div>
    <button onclick="toggleMenu()" class="font-black">☰</button>
  </div>`;
}

function stat(label,value,color){
  return `
  <div class="bg-white p-5 rounded-xl shadow">
    <p class="text-xs text-slate-400 font-bold">${label}</p>
    <p class="text-2xl font-black text-${color}-600">${value}</p>
  </div>`;
}

function menu(items){
  return `
  <div id="menu" class="hidden fixed inset-0 bg-black/40 z-50" onclick="toggleMenu()">
    <div class="bg-white w-64 h-full p-6" onclick="event.stopPropagation()">
      <h3 class="font-black mb-4">Menu</h3>
      ${items.map(i=>`<button onclick="${i.action}" class="block w-full text-left p-3 rounded hover:bg-slate-100">${i.label}</button>`).join("")}
    </div>
  </div>`;
}

function toggleMenu(){
  document.getElementById("menu").classList.toggle("hidden");
}

/* ---------------- SCREENS ---------------- */

function roleScreen(){
  return `
  <div class="min-h-screen flex flex-col justify-center items-center gap-4 p-6">
    <h1 class="text-3xl font-black text-blue-700">StationOS</h1>
    <p class="text-slate-500 mb-6">Select access role</p>

    <button onclick="setView('manager')" class="btn">Manager</button>
    <button onclick="setView('staffRole')" class="btn">Staff</button>
    <button onclick="setView('hq')" class="btn">HQ / OMC</button>
    <button onclick="setView('audit')" class="btn">Government / Audit</button>
  </div>`;
}

function staffRole(){
  return `
  <div class="min-h-screen flex flex-col justify-center items-center gap-4 p-6">
    <h2 class="text-2xl font-black">Staff Role</h2>
    <button onclick="setView('fuelPOS')" class="btn">Fuel Staff</button>
    <button onclick="setView('retailPOS')" class="btn">Retail Staff</button>
    <button onclick="setView('role')" class="text-blue-600 mt-4">← Back</button>
  </div>`;
}

function fuelPOS(){
  return `
  ${topBar("Fuel POS","Staff • Fuel Operations")}
  ${menu([
    {label:"Fuel POS",action:"toggleMenu()"},
    {label:"Logout",action:"setView('role')"}
  ])}
  <div class="p-6 grid gap-4">
    ${stat("Petrol Stock","12,400 L","blue")}
    ${stat("Diesel Stock","8,100 L","blue")}
    ${stat("Sales Today","GHS 34,500","green")}
  </div>`;
}

function retailPOS(){
  return `
  ${topBar("Retail POS","Staff • Shop Operations")}
  ${menu([
    {label:"Retail POS",action:"toggleMenu()"},
    {label:"Logout",action:"setView('role')"}
  ])}
  <div class="p-6 grid gap-4">
    ${stat("Milk","IN STOCK","green")}
    ${stat("Soft Drinks","LOW","blue")}
    ${stat("Bread","CRITICAL","red")}
  </div>`;
}

function manager(){
  return `
  ${topBar("Manager Dashboard","Station View • GHS")}
  ${menu([
    {label:"Dashboard",action:"toggleMenu()"},
    {label:"Logout",action:"setView('role')"}
  ])}
  <div class="p-6 grid grid-cols-1 md:grid-cols-3 gap-4">
    ${stat("Fuel Sales","GHS 125,000","blue")}
    ${stat("Retail Sales","GHS 48,000","blue")}
    ${stat("Variance","-3,200","red")}
  </div>`;
}

function hq(){
  return `
  ${topBar("HQ Dashboard","Multi-Station Overview")}
  ${menu([
    {label:"HQ Dashboard",action:"toggleMenu()"},
    {label:"Logout",action:"setView('role')"}
  ])}
  <div class="p-6 grid gap-4">
    ${stat("Stations","24","blue")}
    ${stat("Daily Revenue","GHS 2.1M","green")}
    ${stat("Alerts","3","red")}
  </div>`;
}

function audit(){
  return `
  ${topBar("Government Audit","READ-ONLY • GHS")}
  ${menu([
    {label:"Audit Dashboard",action:"toggleMenu()"},
    {label:"Logout",action:"setView('role')"}
  ])}
  <div class="p-6 grid gap-4">
    ${stat("Stations Reported","24","blue")}
    ${stat("Pending Reports","2","red")}
    ${stat("Critical Variances","1","red")}
  </div>`;
}

/* ---------------- RENDER ---------------- */
function render(){
  app.innerHTML = ({
    role: roleScreen,
    staffRole,
    fuelPOS,
    retailPOS,
    manager,
    hq,
    audit
  })[view]();
}
render();
</script>

<style>
.btn{
  width:100%;
  max-width:300px;
  background:#2563eb;
  color:white;
  padding:14px;
  border-radius:12px;
  font-weight:800;
}
</style>

</body>
</html>